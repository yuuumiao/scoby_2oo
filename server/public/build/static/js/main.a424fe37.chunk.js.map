{"version":3,"sources":["components/Auth/UserContext.jsx","api/apiHandler.js","components/Auth/UserProvider.jsx","components/Auth/withUser.jsx","components/NavMain.jsx","components/AppMap.jsx","components/Items/ItemDisplay.jsx","components/LocationAutoComplete.jsx","components/Untils/UploadWidget.jsx","components/Untils/index.js","components/SmallComponents/Message.jsx","components/Items/FormItem.jsx","pages/Home.jsx","components/Forms/FormSignin.jsx","pages/Signin.jsx","components/Forms/FormSignup.jsx","pages/Signup.jsx","components/ProtectedRoute.jsx","components/Items/CardItem.jsx","components/Forms/FormPhoneNumber.jsx","components/Items/FormItemEdit.jsx","pages/Profile.jsx","components/Forms/FormUser.jsx","App.jsx","index.js"],"names":["UserContext","React","createContext","service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","console","log","userInfo","post","then","res","catch","get","patch","id","delete","UserProvider","state","user","isLoggedIn","isLoading","removeUser","apiHandler","setState","setUser","contextValue","this","Provider","value","props","children","Component","withUser","ComponentToExposeContextTo","Consumer","context","toggleFormDisplay","className","exact","to","Fragment","onClick","email","Map","ReactMapboxGl","accessToken","AppMap","lng","lat","zoom","handleClick","selectedItem","handleSelectItem","filterAndProductMarkersByCategroy","arg","Arg","slice","toUpperCase","toLowerCase","items","filter","item","category","map","p","location","coordinates","length","key","_id","src","alt","style","width","height","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","plantsMarkers","kombuchaMarkers","vinegarMarkers","kefirMarkers","containerStyle","top","left","bottom","right","center","onViewportChange","PureComponent","handleClose","image","name","quantity","description","formattedAddress","profileImg","firstName","contact","LocationAutoComplete","handleReset","baseState","search","results","handleSearchChange","bind","e","target","clearTimeout","timeoutId","setTimeout","performSearch","features","place","place_name","onSelect","type","onChange","placeholder","defaultAddress","handleItemClicked","UploadWidget","forwardRef","ref","htmlFor","event","file","files","tempURL","URL","createObjectURL","onFileSelect","buildFormData","formData","parentKey","Date","File","append","Object","keys","forEach","Message","selectedClass","icon","rest","classes","danger","info","success","FormItem","address","httpResponse","imageRef","createRef","formRef","locationRef","handleChange","checked","handleFileSelect","temporaryURL","selectedFile","handleSubmit","preventDefault","fd","FormData","current","addItem","reset","status","message","err","handlePlace","geometry","onSubmit","defaultValue","disabled","display","justifyContent","marginTop","phoneNumber","Alert","variant","contextType","withRouter","Home","onSelectItem","displayForm","FormSignin","history","push","role","aria-label","autoComplete","Signin","FormSignup","lastName","password","Signup","ProtectedRoute","component","render","CardItem","handleDelete","handleEdit","FormPhoneNumber","addPhoneNumber","FormItemEdit","displayFormPhone","updateItem","defaultChecked","Profile","userItems","newItems","closeForm","updatedItemList","x","padding","fontSize","tmpUrl","App","path","historyProps","FormUser","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.a424fe37.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const UserContext = React.createContext();\n\nexport default UserContext;\n","import axios from \"axios\";\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL,\n  withCredentials: true,\n  // Cookie is sent to client when using this service. (used for session)\n});\n\nfunction errorHandler(error) {\n  if (error.response.data) {\n    console.log(error.response && error.response.data);\n    throw error;\n  }\n  // console.log(error)\n  throw error;\n}\n\nexport default {\n  service,\n\n  signup(userInfo) {\n    return service\n      .post(\"/api/auth/signup\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  signin(userInfo) {\n    return service\n      .post(\"/api/auth/signin\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  isLoggedIn() {\n    return service\n      .get(\"/api/auth/isLoggedIn\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  logout() {\n    return service\n      .get(\"/api/auth/logout\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getUserInfo() {\n    return service\n      .get(\"/api/users/me\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  updateUserInfos(data) {\n    return service\n      .patch(\"/api/users/me\", data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getItems() {\n    return service\n      .get(\"/api/items\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  createItems(data) {\n    return service\n      .post(\"/api/items\", data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  updateItems(id, data) {\n    return service\n      .patch(`/api/items/${id}`, data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  deleteItem(id) {\n    return service\n      .delete(`/api/items/${id}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n};\n","import React from \"react\";\nimport UserContext from \"./UserContext\";\nimport apiHandler from \"../../api/apiHandler\";\n\nclass UserProvider extends React.Component {\n  state = {\n    user: null,\n    isLoggedIn: false,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    apiHandler\n      .isLoggedIn()\n      .then((data) => {\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\n      })\n      .catch((error) => {\n        this.setState({ isLoggedIn: false, isLoading: false });\n      });\n  }\n\n  removeUser = () => {\n    apiHandler.logout().then(() => {\n      this.setState({ user: null, isLoggedIn: false });\n    });\n  };\n\n  setUser = (userInfo) => {\n    this.setState({ user: userInfo, isLoggedIn: true });\n  };\n\n  render() {\n    const contextValue = {\n      user: this.state.user,\n      isLoggedIn: this.state.isLoggedIn,\n      isLoading: this.state.isLoading,\n      removeUser: this.removeUser,\n      setUser: this.setUser,\n    };\n\n    return (\n      <UserContext.Provider value={contextValue}>\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default UserProvider;\n","import React from \"react\";\nimport UserContext from \"./UserContext\";\n\n// This is what we call a HOC (Higher Order Component).\n// It takes a component as a parameter and it returns a component.\n// This technique can be used to abstract some logic in order to pass\n// some data down as props to the component sent as parameter.\n\n// The use case of this one is to make it easy to access the user context to\n// any component in our app.\n\n/********************************************************* */\n//  How to use:  =>\n// YourComponent.jsx\n// import React from \"react\"\n// function or class YourComponent()\n//\n// ... your implementation.\n//\n// export default withUser(YourComponent)\n// ----------------^ your component now has access to the user context defined in UserProvider.jsx.\n\n\nconst withUser = (ComponentToExposeContextTo) => (props) => {\n  return (\n    <UserContext.Consumer>\n      {(context) => <ComponentToExposeContextTo {...props} context={context} />}\n    </UserContext.Consumer>\n  );\n};\n\nexport default withUser;","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport withUser from \"../components/Auth/withUser\";\nimport apiHandler from \"../api/apiHandler\";\n\nimport \"../styles/NavMain.css\";\n\nconst NavMain = (props) => {\n  const { toggleFormDisplay, context } = props;\n\n  function handleLogout() {\n    apiHandler\n      .logout()\n      .then(() => {\n        context.removeUser();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  return (\n    <nav className=\"NavMain\">\n      <NavLink exact to=\"/\">\n        <h3 className=\"logo\">Scoby</h3>\n      </NavLink>\n      <ul className=\"nav-list\">\n        {context.isLoggedIn && (\n          <React.Fragment>\n            <li onClick={toggleFormDisplay}>Add item</li>\n            <li>\n              <NavLink to=\"/profile\">\n                {context.user && context.user.email}\n              </NavLink>\n            </li>\n            <li>\n              <p onClick={handleLogout}>Logout</p>\n            </li>\n          </React.Fragment>\n        )}\n        {!context.isLoggedIn && (\n          <React.Fragment>\n            <li>\n              <NavLink to=\"/signin\">Log in</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/signup\">Create account</NavLink>\n            </li>\n          </React.Fragment>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default withUser(NavMain);\n","import React from \"react\";\nimport ReactMapboxGl, { Marker } from \"react-mapbox-gl\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\n\nconst Map = ReactMapboxGl({\n  accessToken: process.env.REACT_APP_MAPBOX_TOKEN,\n});\n\n// Programatically create image objects with js that we'll pass later to the layers.\n// The reason we need this is because the Layer component <images> prop takes as argument\n// an array with as first argument a key, an HTMLImageElement.\n// https://github.com/alex3165/react-mapbox-gl/blob/master/docs/API.md#layer\n// images: [imageKey: string, image: HTMLImageElement, options: object] Also accepts array of the previous image tuple.\n// Add images for use in layout with prop icon-image. The value should be the imageKey string of the tuple.\n// Alternatively, use mapbox studio to upload the image, it will be fetched with the map style object. (see map.addImage options for the tuple options).\n\nclass AppMap extends React.PureComponent {\n  state = {\n    lng: 2.349014, // Default lng and lat set to the center of paris.\n    lat: 48.864716,\n    zoom: 12, // used for map zoom level\n  };\n\n  componentDidMount() {\n    // Get users geo location and set it as the state so the map centers relative to the users current location. :)\n    const success = (position) => {\n      const latitude = position.coords.latitude;\n      const longitude = position.coords.longitude;\n      this.setState({ lat: latitude, lng: longitude });\n    };\n\n    const error = () => {\n      console.log(\"An error occured geolocating user\");\n    };\n\n    if (!navigator.geolocation) {\n      console.log(\"Geolocation not supported\");\n    } else {\n      navigator.geolocation.getCurrentPosition(success, error);\n    }\n  }\n\n  handleClick = (selectedItem) => {\n    this.props.handleSelectItem(selectedItem);\n  };\n\n  filterAndProductMarkersByCategroy = (arg) => {\n    const Arg = arg.slice(0, 1).toUpperCase() + arg.slice(1).toLowerCase();\n    return this.props.items\n      .filter((item) => item.category[0] === Arg)\n      .map((p) =>\n        p.location.coordinates.length === 2 ? (\n          <Marker\n            key={p._id}\n            onClick={() => this.handleClick(p)}\n            coordinates={p.location.coordinates}\n          >\n            <button>\n              <img\n                src={`/media/${arg}.svg`}\n                alt={`${arg}-marker`}\n                style={{ width: \"3vw\", height: \"auto\" }}\n              />\n            </button>\n          </Marker>\n        ) : null\n      );\n  };\n\n  render() {\n    const plantsMarkers = this.filterAndProductMarkersByCategroy(\"plant\");\n    const kombuchaMarkers = this.filterAndProductMarkersByCategroy(\"kombucha\");\n    const vinegarMarkers = this.filterAndProductMarkersByCategroy(\"vinegar\");\n    const kefirMarkers = this.filterAndProductMarkersByCategroy(\"kefir\");\n\n    return (\n      <Map\n        // eslint-disable-next-line\n        style=\"mapbox://styles/mapbox/light-v10\"\n        zoom={[12]}\n        containerStyle={{\n          top: 1,\n          left: 0,\n          bottom: 1,\n          right: 0,\n          height: \"100vh\",\n          width: \"100vw\",\n        }}\n        center={[this.state.lng, this.state.lat]}\n        onViewportChange={this.setState}\n      >\n        {plantsMarkers}\n        {kombuchaMarkers}\n        {vinegarMarkers}\n        {kefirMarkers}\n      </Map>\n    );\n  }\n}\n\nexport default AppMap;\n","import React from \"react\";\nimport \"../../styles/ItemDisplay.css\";\nimport withUser from \"../Auth/withUser\";\n\nconst ItemDisplay = (props) => {\n  const { item, handleClose, context } = props;\n  return (\n    <div className=\"Item-container\">\n      <p onClick={handleClose} className=\"close-link\">\n        X\n      </p>\n      <div className=\"round-image\">\n        <img className=\"user-img\" src={item.image} alt=\"item\" />\n      </div>\n      <h2 className=\"title\">{item.name}</h2>\n      <div className=\"info\">\n        <span>Quantity: {item.quantity}</span> |<span>{item.category}</span>\n      </div>\n      <p className=\"description\">{item.description}</p>\n      <p className=\"location\">{item.formattedAddress}</p>\n      <div className=\"user-info\">\n        <div className=\"round-image-user\">\n          <img src={context.user.profileImg} alt=\"user\" />\n        </div>\n        <span>Given away by {context.user.firstName}</span>\n      </div>\n      <div className=\"contact-information\">\n        Contact {context.user.firstName} at <b>{item.contact}</b>\n      </div>\n    </div>\n  );\n};\n\nexport default withUser(ItemDisplay);\n","import React, { Component } from \"react\";\nimport \"../styles/LocationAutoComplete.css\";\nimport axios from \"axios\";\n\nclass LocationAutoComplete extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: \"\",\n      results: [],\n      isLoading: false,\n    };\n    this.baseState = this.state;\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n\n    if (!process.env.REACT_APP_MAPBOX_TOKEN) {\n      throw new Error(\n        \"You don't have any 'process.env.REACT_APP_MAPBOX_API_KEY'\"\n      );\n    }\n  }\n\n  handleReset = () => {\n    this.setState(this.baseState);\n  };\n\n  handleSearchChange(e) {\n    this.setState({\n      search: e.target.value,\n      isLoading: true,\n    });\n\n    // Stop the previous setTimeout if there is one in progress\n    clearTimeout(this.timeoutId);\n\n    // Launch a new request in 1000ms (1s) => Avoids excessive requests to the end point.\n    this.timeoutId = setTimeout(() => {\n      this.performSearch();\n    }, 1000);\n  }\n\n  performSearch() {\n    if (this.state.search === \"\") {\n      this.setState({\n        results: [],\n        isLoading: false,\n      });\n      return;\n    }\n\n    axios\n      .get(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${this.state.search}.json?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`\n      )\n      .then((response) => {\n        // console.log(\"reponse\", response);\n        this.setState({\n          results: response.data.features,\n          isLoading: false,\n        });\n      });\n  }\n\n  handleItemClicked(place) {\n    this.setState({\n      search: place.place_name,\n      results: [],\n    });\n\n    this.props.onSelect(place);\n  }\n\n  render() {\n    return (\n      <div className=\"LocationAutoComplete\">\n        <input\n          className=\"input\"\n          type=\"text\"\n          value={this.state.search}\n          onChange={this.handleSearchChange}\n          placeholder={this.props.defaultAddress || \"Enter an address\"}\n        />\n        <ul className=\"LocationAutoComplete-results\">\n          {this.state.results.map((place) => (\n            <li\n              key={place.id}\n              className=\"LocationAutoComplete-items\"\n              onClick={() => this.handleItemClicked(place)}\n            >\n              {place.place_name}\n            </li>\n          ))}\n          {this.state.isLoading && (\n            <li className=\"LocationAutoComplete-items\">Loading...</li>\n          )}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default LocationAutoComplete;\n","import React from \"react\";\nimport \"../../styles/UploadWidget.css\";\n\n// https://reactjs.org/docs/forwarding-refs.html\n\nconst UploadWidget = React.forwardRef((props, ref) => {\n  // In this component we foward the ref of the input type file in order to deal with it in the parent component.\n\n  const handleFileSelect = (event) => {\n    // This feature allows us to create a \"fake URL\" of the file that the user wants to upload\n    // In order to display the output to the user.\n    const file = event.target.files[0];\n    const tempURL = URL.createObjectURL(file);\n    props.onFileSelect && props.onFileSelect(tempURL);\n    // ^------------------------ You can use guard operators in your normal javascript too !\n    // This means that the prop onFileSelect isn't mandatory in order to use this component.\n  };\n\n  return (\n    <React.Fragment>\n      <label className=\"UploadWidget label\" htmlFor={props.name}>\n        {props.children}\n      </label>\n      <input\n        onChange={handleFileSelect}\n        ref={ref}\n        className=\"UploadWidget input\"\n        id={props.name}\n        name={props.name}\n        type=\"file\"\n      />\n    </React.Fragment>\n  );\n});\n\nexport default UploadWidget;\n","export function buildFormData(formData, data, parentKey) {\n  if (\n    data &&\n    typeof data === \"object\" &&\n    !(data instanceof Date) &&\n    !(data instanceof File)\n  ) {\n    Object.keys(data).forEach((key) => {\n      buildFormData(\n        formData,\n        data[key],\n        parentKey ? `${parentKey}[${key}]` : key\n      );\n    });\n  } else {\n    const value = data == null ? \"\" : data;\n    formData.append(parentKey, value);\n  }\n}\n","import React from \"react\";\n\nconst Message = ({ children, icon, ...rest }) => {\n  const classes = {\n    danger: \"danger\",\n    info: \"info\",\n    success: \"success\",\n  };\n\n  let selectedClass;\n  for (const key in rest) {\n    if (classes[key]) selectedClass = classes[key];\n  }\n\n  return (\n    <p className={`Message ${selectedClass}`}>\n      <img className=\"icon\" src={`/media/${icon}.svg`} alt={icon} />\n      {children}\n    </p>\n  );\n};\n\nexport default Message;\n","import React, { Component } from \"react\";\nimport LocationAutoComplete from \"../LocationAutoComplete\";\nimport \"../../styles/ItemForm.css\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { withRouter } from \"react-router-dom\";\nimport UserContext from \"../Auth/UserContext\";\nimport UploadWidget from \"../Untils/UploadWidget\";\nimport { buildFormData } from \"../Untils/index\";\nimport Message from \"../SmallComponents/Message\";\nimport Alert from \"react-bootstrap/Alert\";\n\nclass FormItem extends Component {\n  state = {\n    name: \"\",\n    category: \"\",\n    quantity: \"\",\n    location: {\n      coordinates: [],\n    },\n    address: \"\",\n    description: \"\",\n    httpResponse: null,\n    error: null,\n  };\n\n  static contextType = UserContext;\n  imageRef = React.createRef(); //to upload the image\n  formRef = React.createRef(); //to reset the data in the form\n  locationRef = React.createRef(); //to reset the data in the form from the parent component\n\n  handleChange = (event) => {\n    const key = event.target.name;\n    const value =\n      event.target.type === \"checkbox\"\n        ? event.target.checked\n        : event.target.value;\n    this.setState({ [key]: value });\n    // if the state is arranged in a deeper level to access, setState like this\n    // this.setState({user: { ...this.state.user, [key]: value }});\n  };\n\n  handleFileSelect = (temporaryURL) => {\n    // Get the temporaryURL from the UploadWidget component and\n    // set the state so we can have a visual feedback on what the image will look like :)\n    this.setState({ selectedFile: temporaryURL });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    // console.log(this.imageRef.current.files);\n    const fd = new FormData();\n    const { httpResponse, selectedFile, ...data } = this.state;\n    buildFormData(fd, data);\n    this.imageRef.current.files[0] &&\n      fd.append(\"image\", this.imageRef.current.files[0]);\n    // for (var value of fd.values()) {\n    //   console.log(\"-->\", value);\n    // } This is for check the data that submit in the form data before submitting\n\n    apiHandler\n      .createItems(fd)\n      .then((res) => {\n        this.props.addItem(res);\n        this.formRef.current.reset(); //uncontrolled form to reset\n        this.setState({\n          httpResponse: {\n            status: \"success\",\n            message: \"Item successfully added.\",\n          },\n          name: \"\",\n          category: \"\",\n          quantity: \"\",\n          location: {\n            coordinates: [],\n          },\n          address: \"\",\n          description: \"\",\n          selectedFile: \"\",\n          contact: null,\n        });\n        this.locationRef.current.handleReset(); //reset the state in the child component\n        this.timeoutId = setTimeout(() => {\n          this.setState({ httpResponse: null });\n        }, 10000);\n      })\n      .catch((err) => {\n        this.setState({\n          httpResponse: {\n            status: \"danger\",\n            message: \"An error occured, try again later.\",\n          },\n        });\n        this.timeoutId = setTimeout(() => {\n          this.setState({ httpResponse: null });\n        }, 10000);\n      });\n    // In order to send back the data to the client, since there is an input type file you have to send the\n    // data as formdata.\n    // The object that you'll be sending will maybe be a nested object, in order to handle nested objects in our form data\n    // Check out the stackoverflow solution below : )\n\n    // Nested object into formData by user Vladimir \"Vladi vlad\" Novopashin @stackoverflow : ) => https://stackoverflow.com/a/42483509\n  };\n\n  handlePlace = (place) => {\n    // This handle is passed as a callback to the autocomplete component.\n    // Take a look at the data and see what you can get from it.\n    // Look at the item model to know what you should retrieve and set as state.\n    // console.log(place);\n    //   this.setState({\n    //     user: {\n    //       ...this.state.user,\n    //       address: place.place_name,\n    //       location: place.geometry,\n    //     },\n    //   });\n    // }; //it worked for the nested arrangement, got modified after\n    this.setState({\n      address: place.place_name,\n      location: place.geometry,\n    });\n  };\n\n  render() {\n    const { httpResponse } = this.state;\n\n    return (\n      <div className=\"ItemForm-container\">\n        <form className=\"form\" onSubmit={this.handleSubmit} ref={this.formRef}>\n          <p onClick={this.props.handleClose} className=\"close-link\">\n            X\n          </p>\n          <h2 className=\"title\">Add Item</h2>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"name\">\n              Item name\n            </label>\n            <input\n              id=\"name\"\n              name=\"name\"\n              className=\"input\"\n              type=\"text\"\n              onChange={this.handleChange}\n              placeholder=\"What are you giving away ?\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"category\">\n              Category\n            </label>\n\n            <select\n              id=\"category\"\n              defaultValue=\"-1\"\n              onChange={this.handleChange}\n              name=\"category\"\n            >\n              <option value=\"-1\" disabled>\n                Select a category\n              </option>\n              <option value=\"Plant\">Plant</option>\n              <option value=\"Kombucha\">Kombucha</option>\n              <option value=\"Vinegar\">Vinegar</option>\n              <option value=\"Kefir\">Kefir</option>\n            </select>\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"quantity\">\n              Quantity\n            </label>\n            <input\n              className=\"input\"\n              id=\"quantity\"\n              name=\"quantity\"\n              type=\"number\"\n              onChange={this.handleChange}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"location\">\n              Address\n            </label>\n            <LocationAutoComplete\n              onSelect={this.handlePlace}\n              ref={this.locationRef}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"description\">\n              Description\n            </label>\n            <textarea\n              id=\"description\"\n              name=\"description\"\n              className=\"text-area\"\n              placeholder=\"Tell us something about this item\"\n              onChange={this.handleChange}\n            ></textarea>\n          </div>\n\n          <div\n            className=\"form-group\"\n            style={{ display: \"flex\", justifyContent: \"space-between\" }}\n          >\n            <UploadWidget\n              ref={this.imageRef}\n              name=\"image\"\n              onFileSelect={this.handleFileSelect}\n              className=\"UploadWidget-control\"\n            >\n              Upload image\n            </UploadWidget>\n            {this.state.selectedFile ? (\n              <div className=\"upload-thumbnail-control uploaded\">\n                <img src={this.state.selectedFile} alt=\"selectedImage\" />\n              </div>\n            ) : (\n              <div className=\"upload-thumbnail-control empty\">\n                placeholder for the picture\n              </div>\n            )}\n          </div>\n\n          <h2 style={{ marginTop: \"5%\" }}>Contact information</h2>\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"contact\">\n              How do you want to be reached?\n            </label>\n            <div>\n              <input\n                type=\"radio\"\n                name=\"contact\"\n                onChange={this.handleChange}\n                checked={this.state.contact === this.context.user.email}\n                value={this.context.user.email}\n              />\n              <label>{this.context.user.email}</label>\n            </div>\n            {this.context.user.phoneNumber && (\n              <div>\n                <input\n                  type=\"radio\"\n                  name=\"contact\"\n                  checked={this.state.contact === this.context.user.phoneNumber}\n                  onChange={this.handleChange}\n                  value={this.context.user.phoneNumber}\n                />\n                <label>{this.context.user.phoneNumber}</label>\n              </div>\n            )}\n          </div>\n\n          {!this.context.user.phoneNumber && (\n            <Message info icon=\"info\">\n              Want to be contacted by phone? Add your phone number in your\n              personal page.\n            </Message>\n          )}\n          {httpResponse && (\n            <Alert variant={httpResponse.status}>{httpResponse.message}</Alert>\n          )}\n\n          <button className=\"btn-submit\">Add Item</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(FormItem);\n","import React from \"react\";\nimport AppMap from \"../components/AppMap\";\nimport ItemDisplay from \"../components/Items/ItemDisplay\";\nimport UserContext from \"../components/Auth/UserContext\";\nimport FormItem from \"../components/Items/FormItem\";\nimport apiHandler from \"../api/apiHandler\";\n\nclass Home extends React.Component {\n  static contextType = UserContext;\n  state = {\n    selectedItem: null,\n    items: [],\n  };\n\n  componentDidMount() {\n    apiHandler.getItems().then((data) => {\n      this.setState({ items: data });\n    });\n  }\n\n  addItem = (item) => {\n    this.setState({ items: [...this.state.items, item] });\n  };\n\n  onSelectItem = (selectedItem) => {\n    this.setState({ selectedItem: selectedItem });\n  };\n\n  handleClose = () => {\n    this.setState({ selectedItem: null });\n  };\n\n  render() {\n    const { user } = this.context;\n\n    return (\n      <div>\n        {user && this.props.displayForm && (\n          <FormItem\n            type=\"fromHome\"\n            handleClose={this.props.handleClose}\n            addItem={this.addItem}\n          />\n        )}\n        {this.state.selectedItem !== null && (\n          <ItemDisplay\n            item={this.state.selectedItem}\n            handleClose={this.handleClose}\n          />\n        )}\n        <AppMap items={this.state.items} handleSelectItem={this.onSelectItem} />\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n//import { withUser } from \"../Auth/withUser\";\nimport { withRouter } from \"react-router-dom\";\nimport UserContext from \"../Auth/UserContext\";\nimport apiHandler from \"../../api/apiHandler\";\nimport \"../../styles/form.css\";\n\nclass FormSignin extends Component {\n  static contextType = UserContext;\n\n  state = {};\n\n  handleChange = (event) => {\n    const key = event.target.name;\n    const value =\n      event.target.type === \"file\"\n        ? event.target.files[0]\n        : event.target.type === \"checkbox\"\n        ? event.target.checked\n        : event.target.value;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .signin(this.state)\n      .then((data) => {\n        this.context.setUser(data);\n        console.log(this.props);\n        this.props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    // if (this.context.isLoggedIn) {\n    //   // This logic is the same as in the <ProtectedRoute /> component\n    //   // Here this is handled within the component, if there are some views\n    //   // that are not meant to be rendered to a logged in user,\n    //   // you could make a generic component out of it, just like <ProtectedRoute />\n    //   // and instead of checking if the user is not logged in, check if the user is logged in\n    //   // and redirect him to whatever page you want, in the case below: the home page.\n\n    //   return <Redirect to=\"/\" />;\n    // }\n    //console.log(this.props)\n\n    return (\n      <section className=\"form-section\">\n        <header className=\"header\">\n          <h1>\n            Welcome back{\" \"}\n            <span role=\"img\" aria-label=\"heart\">\n              💙\n            </span>\n          </h1>\n        </header>\n\n        <form\n          autoComplete=\"off\"\n          className=\"form\"\n          onChange={this.handleChange}\n          onSubmit={this.handleSubmit}\n        >\n          <h2 className=\"title\">Login</h2>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"email\">\n              Email\n            </label>\n            <input className=\"input\" id=\"email\" type=\"email\" name=\"email\" />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"password\">\n              Password\n            </label>\n            <input\n              className=\"input\"\n              id=\"password\"\n              type=\"password\"\n              name=\"password\"\n            />\n          </div>\n\n          <button className=\"btn-submit\">Let's go!</button>\n        </form>\n\n        <div className=\"form-section-bottom\">\n          <p>Already have an account? </p>\n          <Link className=\"link\" to=\"/signup\">\n            Register\n          </Link>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default withRouter(FormSignin);\n// Browser history and user will be given as props to the FormSignin thanks to HOCs !\n","import React from \"react\";\nimport FormSignin from \"../components/Forms/FormSignin\";\n\nconst Signin = (props) => {\n  return <FormSignin />;\n};\n\nexport default Signin;\n","import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\n//import  withUser  from \"../Auth/withUser\";\nimport UserContext from \"../Auth/UserContext\";\nimport apiHandler from \"../../api/apiHandler\";\nimport \"../../styles/form.css\";\n\nclass FormSignup extends Component {\n  static contextType = UserContext;\n  state = {};\n\n  handleChange = (event) => {\n    const value =\n      event.target.type === \"file\" ? event.target.files[0] : event.target.value;\n    const key = event.target.name;\n    // console.log(\"key->\", key, \"value->\", value)\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .signup({\n        firstName: this.state.firstName,\n        lastName: this.state.lastName,\n        email: this.state.email,\n        password: this.state.password,\n      })\n      .then((data) => {\n        this.context.setUser(data);\n        this.props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    // if (this.context.isLoggedIn) {\n    //   // This logic is the same as in the <ProtectedRoute /> component\n    //   // Here this is handled within the component, if there are some views\n    //   // that are not meant to be rendered to a logged in user,\n    //   // you could make a generic component out of it, just like <ProtectedRoute />\n    //   // and instead of checking if the user is not logged in, check if the user is logged in\n    //   // and redirect him to whatever page you want, in the case below: the home page.\n    //   return <Redirect to=\"/\" />;\n    // }\n\n    return (\n      <section className=\"form-section\">\n        <header className=\"header\">\n          <h1>\n            Hello\n            <span role=\"img\" aria-label=\"hand\">\n              👋\n            </span>\n          </h1>\n        </header>\n\n        <form autoComplete=\"off\" className=\"form\" onSubmit={this.handleSubmit}>\n          <h2 className=\"title\">Create account</h2>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"firstName\">\n              First name\n            </label>\n            <input\n              className=\"input\"\n              id=\"firstName\"\n              type=\"text\"\n              name=\"firstName\"\n              onChange={this.handleChange}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"lastName\">\n              Last Name\n            </label>\n            <input\n              className=\"input\"\n              id=\"lastName\"\n              type=\"text\"\n              name=\"lastName\"\n              onChange={this.handleChange}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"email\">\n              Email\n            </label>\n            <input\n              className=\"input\"\n              id=\"email\"\n              type=\"email\"\n              name=\"email\"\n              onChange={this.handleChange}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"password\">\n              Password\n            </label>\n            <input\n              className=\"input\"\n              id=\"password\"\n              type=\"password\"\n              name=\"password\"\n              onChange={this.handleChange}\n            />\n          </div>\n\n          <button className=\"btn-submit\">Let's go!</button>\n        </form>\n\n        <div className=\"form-section-bottom\">\n          <p>Already have an account? </p>\n          <Link className=\"link\" to=\"/signin\">\n            Log in\n          </Link>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default withRouter(FormSignup);\n","import React from \"react\";\nimport FormSignup from \"../components/Forms/FormSignup\";\n\nconst Signup = (props) => {\n  return <FormSignup />;\n};\n\nexport default Signup;\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport UserContext from \"./Auth/UserContext\";\n\nfunction ProtectedRoute({ component: Component, render, ...rest }) {\n  return (\n    <UserContext.Consumer>\n      {(context) => {\n        if (context.isLoading) {\n          return <div>Loading ...</div>;\n        }\n        if (context.isLoggedIn) {\n          return (\n            <React.Fragment>\n              {/* If render prop is used instead of the component prop when calling ProtectedRoute (emulates <Route/> render method.*/}\n              {render && <Route {...rest} render={render} />}\n              {!render && <Route {...rest} component={Component} />}\n            </React.Fragment>\n          );\n        } else {\n          return <Redirect to=\"/signin\" />;\n        }\n      }}\n    </UserContext.Consumer>\n  );\n}\n\nexport default ProtectedRoute;\n","import React from \"react\";\n\nconst CardItem = ({\n  name,\n  quantity,\n  description,\n  image,\n  handleDelete,\n  handleEdit,\n  id,\n}) => {\n  return (\n    <div className=\"CardItem\">\n      {/* <h3>Your items</h3> */}\n      <div className=\"item\">\n        <div className=\"round-image\">\n          <img src={image} alt=\"item\" />\n        </div>\n        <div className=\"item-empty\">\n          <h2 className=\"description\">{name}</h2>\n          <h4 className=\"description\">Quantity: {quantity}</h4>\n          <p className=\"description\">{description}</p>\n          <div className=\"buttons\">\n            <span className=\"buttons\">\n              <button\n                className=\"btn-secondary\"\n                onClick={() => handleDelete(id)}\n              >\n                Delete\n              </button>\n            </span>\n            <span>\n              <button className=\"btn-primary\" onClick={() => handleEdit(id)}>\n                Edit\n              </button>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CardItem;\n","import React from \"react\";\n\nfunction FormPhoneNumber({ handleChange, addPhoneNumber, phoneNumber }) {\n  return (\n    <div className=\"user-contact\">\n      <form className=\"form\" onSubmit={addPhoneNumber}>\n        <div className=\"form-group\">\n          <label className=\"label\" htmlFor=\"phoneNumber\">\n            Phone number\n          </label>\n          <input\n            className=\"input\"\n            id=\"phoneNumber\"\n            type=\"text\"\n            name=\"phoneNumber\"\n            placeholder=\"Add phone number\"\n            value={phoneNumber}\n            onChange={handleChange}\n          />\n        </div>\n        <button className=\"form__button\">\n          {phoneNumber ? \"Change phone number\" : \"Add phone number\"}\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default FormPhoneNumber;\n","import React, { Component } from \"react\";\nimport LocationAutoComplete from \"../LocationAutoComplete\";\nimport \"../../styles/ItemForm.css\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { withRouter } from \"react-router-dom\";\nimport UserContext from \"../Auth/UserContext\";\nimport UploadWidget from \"../Untils/UploadWidget\";\nimport { buildFormData } from \"../Untils/index\";\nimport FormPhoneNumber from \"../Forms/FormPhoneNumber\";\nimport Alert from \"react-bootstrap/Alert\";\n\nclass FormItemEdit extends Component {\n  state = {\n    httpResponse: null,\n    error: null,\n    displayFormPhone: false,\n  };\n\n  static contextType = UserContext;\n  imageRef = React.createRef();\n  // formRef = React.createRef();\n  // locationRef = React.createRef();\n\n  handleChange = (event) => {\n    const key = event.target.name;\n    const value =\n      event.target.type === \"checkbox\"\n        ? event.target.checked\n        : event.target.value;\n    this.setState({ [key]: value });\n  };\n\n  handleFileSelect = (temporaryURL) => {\n    this.setState({ selectedFile: temporaryURL });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const fd = new FormData();\n    const { httpResponse, error, selectedFile, ...data } = this.state;\n    buildFormData(fd, data);\n    console.log(this.imageRef.current.files[0]);\n    this.imageRef.current.files[0] &&\n      fd.append(\"image\", this.imageRef.current.files[0]);\n\n    apiHandler\n      .updateItems(this.props.item._id, fd)\n      .then((res) => {\n        console.log(res);\n        this.props.updateItem(res);\n        // this.formRef.current.reset();\n        this.setState({\n          httpResponse: {\n            status: \"success\",\n            message: \"Item successfully added.\",\n          },\n        });\n        // this.locationRef.current.handleReset(); //reset the state in the child component\n        this.timeoutId = setTimeout(() => {\n          this.setState({ httpResponse: null });\n        }, 2000);\n      })\n      .catch((err) => {\n        this.setState({\n          httpResponse: {\n            status: \"danger\",\n            message: \"An error occured, try again later.\",\n          },\n        });\n        this.timeoutId = setTimeout(() => {\n          this.setState({ httpResponse: null });\n        }, 2000);\n      });\n  };\n\n  handlePlace = (place) => {\n    this.setState({\n      address: place.place_name,\n      location: place.geometry,\n    });\n  };\n\n  render() {\n    const { httpResponse } = this.state;\n    const { name, category, quantity, description, contact, address, image } =\n      this.props.item;\n\n    return (\n      <div className=\"ItemForm-container\">\n        <form className=\"form\" onSubmit={this.handleSubmit} ref={this.formRef}>\n          <p onClick={this.props.handleClose} className=\"close-link\">\n            X\n          </p>\n          <h2 className=\"title\">Add Item</h2>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"name\">\n              Item name\n            </label>\n            <input\n              id=\"name\"\n              name=\"name\"\n              className=\"input\"\n              type=\"text\"\n              onChange={this.handleChange}\n              defaultValue={name}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"category\">\n              Category\n            </label>\n\n            <select\n              id=\"category\"\n              onChange={this.handleChange}\n              name=\"category\"\n              defaultValue={category[0]}\n            >\n              <option value=\"-1\" disabled>\n                Select a category\n              </option>\n              <option value=\"Plant\">Plant</option>\n              <option value=\"Kombucha\">Kombucha</option>\n              <option value=\"Vinegar\">Vinegar</option>\n              <option value=\"Kefir\">Kefir</option>\n            </select>\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"quantity\">\n              Quantity\n            </label>\n            <input\n              className=\"input\"\n              id=\"quantity\"\n              name=\"quantity\"\n              type=\"number\"\n              onChange={this.handleChange}\n              defaultValue={quantity}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"location\">\n              Address\n            </label>\n            <LocationAutoComplete\n              onSelect={this.handlePlace}\n              ref={this.locationRef}\n              defaultAddress={address}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"description\">\n              Description\n            </label>\n            <textarea\n              id=\"description\"\n              name=\"description\"\n              className=\"text-area\"\n              placeholder=\"Tell us something about this item\"\n              onChange={this.handleChange}\n              defaultValue={description}\n            ></textarea>\n          </div>\n\n          <div\n            className=\"form-group\"\n            style={{ display: \"flex\", justifyContent: \"space-between\" }}\n          >\n            <UploadWidget\n              ref={this.imageRef}\n              name=\"image\"\n              onFileSelect={this.handleFileSelect}\n              className=\"UploadWidget-control\"\n            >\n              Change a picture to upload\n            </UploadWidget>\n            <div className=\"upload-thumbnail-control uploaded\">\n              <p>Preview: current picture</p>\n              {this.state.selectedFile ? (\n                <img src={this.state.selectedFile} alt=\"selectedImage\" />\n              ) : (\n                <img src={image} alt=\"selectedImage\" />\n              )}\n            </div>\n          </div>\n\n          <h2 style={{ marginTop: \"5%\" }}>Contact information</h2>\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"contact\">\n              How do you want to be reached?\n            </label>\n            <div>\n              <input\n                type=\"radio\"\n                name=\"contact\"\n                onChange={this.handleChange}\n                // checked={this.state.contact === this.context.user.email}\n                defaultChecked={contact === this.context.user.email}\n                value={this.context.user.email}\n              />\n              <label>{this.context.user.email}</label>\n            </div>\n            {this.context.user.phoneNumber && (\n              <div>\n                <input\n                  type=\"radio\"\n                  name=\"contact\"\n                  //   checked={this.state.contact === this.context.user.phoneNumber}\n                  defaultChecked={contact === this.context.user.phoneNumber}\n                  onChange={this.handleChange}\n                  value={this.context.user.phoneNumber}\n                />\n                <label>{this.context.user.phoneNumber}</label>\n              </div>\n            )}\n          </div>\n\n          {!this.context.user.phoneNumber && (\n            <Alert variant=\"info\">\n              Want to be contacted by phone?\n              <button\n                onClick={(e) => {\n                  e.preventDefault();\n                  this.setState({ displayFormPhone: true });\n                }}\n              >\n                Add now\n              </button>\n              {this.state.displayFormPhone && (\n                <FormPhoneNumber\n                  handleChange={this.props.handleChange}\n                  addPhoneNumber={this.props.addPhoneNumber}\n                  phoneNumber={this.props.phoneNumber}\n                />\n              )}\n            </Alert>\n          )}\n          {httpResponse && (\n            <Alert variant={httpResponse.status}>{httpResponse.message}</Alert>\n          )}\n\n          <button className=\"btn-submit\">Update Item</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(FormItemEdit);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport withUser from \"../components/Auth/withUser\";\nimport UserContext from \"../components/Auth/UserContext\";\nimport apiHandler from \"./../api/apiHandler\";\nimport CardItem from \"../components/Items/CardItem\";\nimport FormItem from \"../components/Items/FormItem\";\nimport FormItemEdit from \"../components/Items/FormItemEdit\";\nimport FormPhoneNumber from \"../components/Forms/FormPhoneNumber\";\nimport \"../styles/Profile.css\";\nimport \"../styles/CardItem.css\";\n\nclass Profile extends Component {\n  static contextType = UserContext;\n\n  state = {\n    phoneNumber: \"\",\n    httpResponse: null,\n    selectedItem: null,\n    userItems: [],\n    displayForm: false,\n  };\n\n  componentDidMount() {\n    apiHandler\n      .getItems()\n      .then((data) => {\n        this.setState({\n          userItems: data,\n          phoneNumber: this.context.user.phoneNumber,\n        });\n      })\n      .catch((error) => console.log(error));\n  }\n\n  handleChange = (event) => {\n    this.setState({ phoneNumber: event.target.value });\n  };\n\n  addPhoneNumber = (event) => {\n    event.preventDefault();\n    apiHandler\n      .updateUserInfos({\n        phoneNumber: this.state.phoneNumber,\n      })\n      .then((data) => {\n        this.context.setUser(data);\n        this.setState({\n          httpResponse: { status: \"success\", message: \"Phone number added.\" },\n        });\n        this.timeoutId = setTimeout(() => {\n          this.setState({ httpResponse: null });\n        }, 1000);\n      })\n\n      .catch((error) => {\n        this.setState({\n          httpResponse: {\n            status: \"danger\",\n            message: \"An error occured, try again later\",\n          },\n        });\n        this.timeoutId = setTimeout(() => {\n          this.setState({ httpResponse: null });\n        }, 1000);\n      });\n  };\n\n  addItem = (item) => {\n    this.setState({ userItems: [...this.state.userItems, item] });\n  };\n\n  handleDelete = (id) => {\n    apiHandler.deleteItem(id);\n    const newItems = this.state.userItems.filter((item) => item._id !== id);\n    this.setState({ userItems: newItems });\n  };\n\n  closeForm = () => {\n    console.log(\"closing\");\n    this.setState({ displayForm: false });\n  };\n\n  handleEdit = (id) => {\n    const selectedItem = [...this.state.userItems].filter(\n      (e) => e._id === id\n    )[0];\n    this.setState({ displayForm: true, selectedItem: selectedItem });\n  };\n\n  updateItem = (item) => {\n    const updatedItemList = [...this.state.userItems].map((x) =>\n      x._id === item._id ? item : x\n    );\n    this.setState({ userItems: updatedItemList, selectedItem: item });\n  };\n\n  render() {\n    const { user } = this.context;\n\n    return (\n      <div style={{ padding: \"100px\", fontSize: \"1.25rem\" }}>\n        {/* <pre>{JSON.stringify(this.props, null, 2)}</pre> */}\n\n        {/* <h2 style={{ fontSize: \"1.5rem\", marginBottom: \"10px\" }}>\n          This is profile, it's protected !\n        </h2>\n        <p>\n          Checkout the<b>ProtectedRoute</b> component in\n          <code>./components/ProtectRoute.jsx</code>\n        </p>\n        <a\n          style={{ color: \"dodgerblue\", fontWeight: \"bold\" }}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://reacttraining.com/react-router/web/example/auth-workflow\"\n        >\n          React router dom Demo of a protected route\n        </a> */}\n\n        {user && this.props.displayForm && (\n          <FormItem\n            handleClose={this.props.handleClose}\n            addItem={this.addItem}\n          />\n        )}\n\n        {this.state.selectedItem && this.state.displayForm && (\n          <FormItemEdit\n            handleClose={this.closeForm}\n            updateItem={this.updateItem}\n            item={this.state.selectedItem}\n            handleChange={this.handleChange}\n            addPhoneNumber={this.addPhoneNumber}\n            phoneNumber={this.state.phoneNumber}\n          />\n        )}\n\n        <section className=\"Profile\">\n          <div className=\"user-image round-image\">\n            <img src={user.profileImg} alt={user.firstName} />\n          </div>\n          <div className=\"user-presentation\">\n            <h2>\n              {user.firstName} {user.lastName}\n            </h2>\n            <Link className=\"link\" to=\"/profile/settings\">\n              Edit profile\n            </Link>\n          </div>\n\n          <FormPhoneNumber\n            handleChange={this.handleChange}\n            addPhoneNumber={this.addPhoneNumber}\n            phoneNumber={this.state.phoneNumber}\n          />\n\n          {this.state.userItems.length === 0 && (\n            <div className=\"CardItem\">\n              <div className=\"item-empty\">\n                <div className=\"round-image\">\n                  <img src=\"/media/personal-page-empty-state.svg\" alt=\"\" />\n                </div>\n                <p>You don't have any items</p>\n              </div>\n            </div>\n          )}\n\n          {this.state.userItems.length > 0 &&\n            this.state.userItems.map((item) => (\n              <CardItem\n                key={item._id}\n                name={item.name}\n                quantity={item.quantity}\n                description={item.description}\n                image={item.image}\n                id={item._id}\n                handleDelete={this.handleDelete}\n                handleEdit={this.handleEdit}\n              />\n            ))}\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default withUser(Profile);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport apiHandler from \"../../api/apiHandler\";\n//import UserContext from \"../Auth/UserContext\";\nimport withUser from \"../Auth/withUser\";\n\nimport \"../../styles/form.css\";\n\nclass FormUser extends Component {\n  //static contextType = UserContext;\n  //if using the withUser HOF, then static... is no more needed to access the UserContext\n\n  state = {\n    user: null,\n    tmpUrl: \"\",\n    httpResponse: null,\n    isLoading: true,\n  };\n\n  imageRef = React.createRef();\n  //Refs are created using React.createRef() and attached to React elements via the ref attribute.\n\n  handleChange = (event) => {\n    const key = event.target.name;\n    const value =\n      event.target.type === \"file\"\n        ? event.target.files[0]\n        : event.target.type === \"checkbox\"\n        ? event.target.checked\n        : event.target.value;\n\n    this.setState({\n      user: { ...this.state.user, [key]: value },\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const fd = new FormData();\n\n    for (const key in this.state.user) {\n      if (key === \"profileImg\") continue;\n      fd.append(key, this.state.user[key]);\n    }\n    // if (this.imageRef.current.files[0]) {\n    //     fd.append(\"profileImg\", this.imageRef.current.files[0]);\n    // }\n    //console.log(this.state.user)\n    apiHandler\n      .updateUserInfos(this.state.user)\n      .then((data) => {\n        //update the context\n        //console.log(data,this.props.context)\n        this.props.context.setUser(data);\n        this.setState({\n          httpResponse: {\n            status: \"success\",\n            message: \"Profile successfully updated.\",\n          },\n        });\n        this.timeoutId = setTimeout(() => {\n          this.setState({ httpResponse: null });\n        }, 2000);\n      })\n      .catch((error) => {\n        this.setState({\n          httpResponse: {\n            status: \"failure\",\n            message:\n              \"Something bad happened while updating your profile, try again later\",\n          },\n        });\n\n        this.timeoutId = setTimeout(() => {\n          this.setState({ httpResponse: null });\n        }, 2000);\n      });\n  };\n\n  componentDidMount() {\n    apiHandler\n      .getUserInfo()\n      .then((data) => {\n        console.log(\"data\", data);\n        this.setState({ user: data, isLoading: false });\n      })\n      .catch((error) => {\n        this.setState({\n          isLoading: false,\n          httpResponse: {\n            status: \"failure\",\n            message: \"Something bad happened, please try again later\",\n          },\n        });\n      });\n  }\n\n  render() {\n    //if there is no loading the return div will happen faster than the didMounted\n    //the state.user will return undefined\n    // eslint-disable-next-line\n    const { httpResponse } = this.state;\n    // console.log(this.state.httpResponse)\n    //it always return null ?? => why ?\n    // console.log(this.props)\n    if (this.state.isLoading) return <div>Loading...</div>;\n\n    return (\n      <div>\n        <form\n          className=\"form\"\n          onSubmit={this.handleSubmit}\n          onChange={this.handleChange}\n        >\n          <div className=\"FormUser__headings\">\n            <h2 className=\"title\">Edit profile</h2>\n            <h2>\n              <Link to=\"/profile\">X</Link>\n            </h2>\n          </div>\n\n          <div className=\"round-image user-image\">\n            <img\n              src={this.state.tmpUrl || this.state.user.profileImg}\n              alt={this.state.user.firstName}\n            />\n          </div>\n\n          {/* ref={this.imageRef} */}\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"firstName\">\n              First name\n            </label>\n            <input\n              className=\"input\"\n              id=\"firstName\"\n              type=\"text\"\n              name=\"firstName\"\n              value={this.state.user.firstName}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"lastName\">\n              Last Name\n            </label>\n            <input\n              className=\"input\"\n              id=\"lastName\"\n              type=\"text\"\n              name=\"lastName\"\n              value={this.state.user.lastName}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"email\">\n              Email\n            </label>\n            <input\n              className=\"input\"\n              id=\"email\"\n              type=\"email\"\n              name=\"email\"\n              value={this.state.user.email}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"phoneNumber\">\n              Phone number:\n            </label>\n            <input\n              className=\"input\"\n              id=\"phoneNumber\"\n              type=\"phoneNumber\"\n              name=\"phoneNumber\"\n              value={this.state.user.phoneNumber}\n            />\n          </div>\n\n          <button className=\"btn-submit\">SAVE</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withUser(FormUser);\n","import React, { Component } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport NavMain from \"./components/NavMain\";\nimport Home from \"./pages/Home\";\nimport Signin from \"./pages/Signin\";\nimport Signup from \"./pages/Signup\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport Profile from \"./pages/Profile\";\nimport FormItem from \"./components/Items/FormItem\";\nimport FormUser from \"./components/Forms/FormUser\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nclass App extends Component {\n  state = {\n    displayForm: false,\n  };\n\n  toggleFormDisplay = () => {\n    this.setState({ displayForm: !this.state.displayForm });\n  };\n\n  handleClose = () => {\n    this.setState({ displayForm: false });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <NavMain toggleFormDisplay={this.toggleFormDisplay} />\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={(historyProps) => (\n              <Home\n                {...historyProps}\n                displayForm={this.state.displayForm}\n                handleClose={this.handleClose}\n              />\n            )}\n          />\n          <Route exact path=\"/signin\" component={Signin} />\n          <Route exact path=\"/signup\" component={Signup} />\n          <Route exact path=\"/item/create\" component={FormItem} />\n          <ProtectedRoute\n            exact\n            path=\"/profile\"\n            render={(historyProps) => (\n              <Profile\n                {...historyProps}\n                displayForm={this.state.displayForm}\n                handleClose={this.handleClose}\n              />\n            )}\n          />\n\n          <Route exact path=\"/profile/settings\" component={FormUser} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport UserProvider from \"./components/Auth/UserProvider\";\nimport App from \"./App\";\n\nimport \"./styles/reset.css\";\nimport \"./styles/global.css\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}